---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modules.html" class="nav1">Modules</a>
    <a href="../modulelist.html" class="nav2">List of modules</a>
    <a href="../macros.html" class="nav1">Macros</a>
    <a href="../extendingmia.html" class="nav1">Extending MIA</a>
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Weka probability maps</h1>
<h2>Description</h2>
Performs pixel classification using the WEKA Trainable Segmentation plugin.<br><br>This module loads a previously-saved WEKA classifier model and applies it to the input image.  It then returns the multi-channel probability map.<br><br>Image stacks are processed in 2D, one slice at a time.
<h2>Parameters</h2>
<ul><li>Input image<ul><li>Description: Image to apply pixel classification to.</li><li>Type: InputImageP</li></ul><br><li>Convert to RGB<ul><li>Description: Converts a composite image to RGB format.  This should be set to match the image-type used for generation of the model.</li><li>Type: BooleanP</li><li>Default value: false</li></ul><br><li>Output image<ul><li>Description: Output probability map image.</li><li>Type: OutputImageP</li></ul><br><li>Output bit depth<ul><li>Description: By default images will be saved as floating point 32-bit (probabilities in the range 0-1); however, they can be converted to 8-bit (probabilities in the range 0-255) or 16-bit (probabilities in the range 0-65535).  This is useful for saving memory or if the output probability map will be passed to image threshold module.</li><li>Type: ChoiceP</li><li>Default value: 32</li><li>Choices: <ul><li>8</li><li>16</li><li>32</li></ul></li></ul><br><li>Output single class<ul><li>Description: Allows a single class (image channel) to be output.  This is another feature for reducing memory usage.</li><li>Type: BooleanP</li><li>Default value: false</li></ul><br><li>Output class<ul><li>Description: Class (image channel) to be output.  Channel numbering starts at 1.</li><li>Type: IntegerP</li><li>Default value: 1</li></ul><br><li>Path type<ul><li>Description: Method to use for generation of the classifier filename.<br><br>- "Matching format" will generate a name from metadata values stored in the current workspace.  This is useful if the classifier varies from input file to input file.<br><br>- "Specific file" will load the classifier file at a specific location.  This is useful if the same file is to be used for all input files.</li><li>Type: ChoiceP</li><li>Default value: Specific file</li><li>Choices: <ul><li>Matching format</li><li>Specific file</li></ul></li></ul><br><li>Generic format<ul><li>Description: Format for a generic filename.  Plain text can be mixed with global variables or metadata values currently stored in the workspace.  Global variables are specified using the "V{name}" notation, where "name" is the name of the variable to insert.  Similarly, metadata values are specified with the "M{name}" notation.</li><li>Type: StringP</li></ul><br><li>Available metadata fields<ul><li>Description: List of the currently-available metadata values for this workspace.  These can be used when compiling a generic filename.</li><li>Type: TextAreaP</li></ul><br><li>Classifier file path<ul><li>Description: Path to the classifier file (.model extension).  This file needs to be created manually using the WEKA Trainable Segmentation plugin included with Fiji.</li><li>Type: FilePathP</li></ul><br><li>Block size (simultaneous slices)<ul><li>Description: Number of image slices to process at any given time.  This reduces the memory footprint of the module, but can slow down processing.</li><li>Type: IntegerP</li><li>Default value: 1</li></ul><br></ul>

</div>
</body>