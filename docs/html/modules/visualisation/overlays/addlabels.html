<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>MIA (Modular Image Analysis)</title>
  <link rel="shortcut icon" href="../../../../img/logos/logo_square_partclip_192.png" type="image/x-icon" />

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link href="../../../../css/style.css" rel="stylesheet">

  <!-- Javascript -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
</head>

<body>
  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <div>
        <a class="navbar-brand" href="../../../../index.html" style="padding-bottom: 0px;">
          <img height="36" src="../../../../img/logos/logo_64.png" style="padding-bottom: 3px; padding-right:0px;">
        </a>
        <a class="navbar-brand mia-name mia-mobile" href="../../../../index.html" style="float:right; padding-top: 6px;">
          MIA
        </a>
        <a class="navbar-brand mia-name mia-desktop" href="../../../../index.html" style="float:right; padding-top: 6px;">
          Modular Image Analysis
        </a>
      </div>
      <buton class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        style="border: none;">
        <span class="navbar-toggler-icon"></span>
      </buton>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item ">
            <a class="nav-link" href="../../../../index.html">Home</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../../html/guides/guides.html">Guides</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../../../../html/modules/modules.html">Modules</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../../html/about.html">About</a>
          </li>
          <a class="btn btn-outline-primary ml-2 mia-nav-button"
            href="../../../../html/guides/1gettingstarted.html">Get
            started</a>
      </div>
      </ul>
    </div>
    </div>
  </nav>

  <div class="page-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <p class="mia-main-text"><a href="../../../../html/modules/modules.html">Modules</a> > <a href="../../../../html/modules/visualisation/visualisation.html">Visualisation</a> > <a href="../../../../html/modules/visualisation/overlays/overlays.html">Overlays</a></p>
    <p class="mia-title">Add labels</p>
    <p class="mia-main-text-large">Adds an overlay to the specified input image with each object represented by a text label.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Description</p>
    <p class="text-center mia-main-text">Adds an overlay to the specified input image with each object represented by a text label.  The label can include information such as measurements, associated object counts or ID numbers.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Parameters</p>
    <!-- <p class="text-center mia-main-text"><tr><td class="mia-table-text-bold">Colour mode</td><td>Method for assigning colour of each object:<br><ul><li>"Child count" Colour is determined by the number of children each object has.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the fewest children is shown in red and the object with the most, in cyan.  Objects without any children are always shown in red.  Child objects used for counting are selected with the "Child objects for colour" parameter.</li><li>"ID" Colour is quasi-randomly selected based on the ID number of the object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.</li><li>"Measurement value" Colour is determined by a measurement value.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects missing the relevant measurement  are always shown in red.  The measurement value is selected with the "Measurement for colour" parameter.</li><li>"Parent ID" Colour is quasi-randomly selected based on the ID number of a parent of this object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.  The parent object is selected with the "Parent object for colour" parameter.</li><li>"Parent measurement value" Colour is determined by a measurement value of a parent of this object.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects either missing the relevant measurement or without the relevant parent are always shown in red.  The parent object is selected with the "Parent object for colour" parameter and the measurement value is selected with the "Measurement for colour" parameter.</li><li>"Partner count"  Colour is determined by the number of partners each object has.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the fewest partners is shown in red and the object with the most, in cyan.  Objects without any partners are always shown in red.  Partner objects used for counting are selected with the "Partner objects for colour" parameter.</li><li>"Random colour" Colour is randomly selected for each object.  Unlike the "ID" option, the colours generated here will be different for each evaluation of the module.</li><li>"Single colour" (default option) Colour is fixed to one of a predetermined list of colours.  All objects  will be assigned the same overlay colour.  The colour is chosen using the "Single colour" parameter.</li></ul></td></tr><tr><td class="mia-table-text-bold">Colour map</td><td></td></tr><tr><td class="mia-table-text-bold">Single colour</td><td>Colour for all object overlays to be rendered using.  This parameter is used if "Colour mode" is set to "Single colour".  Choices are: White, Black, Red, Orange, Yellow, Green, Cyan, Blue, Violet, Magenta.</td></tr><tr><td class="mia-table-text-bold">Child objects for colour</td><td>Object collection used to determine the colour based on number of children per object when "Colour mode" is set to "Child count".  These objects will be children of the input objects.</td></tr><tr><td class="mia-table-text-bold">Measurement for colour</td><td>Measurement used to determine the colour when "Colour mode" is set to either "Measurement value" or "Parent measurement value".</td></tr><tr><td class="mia-table-text-bold">Parent object for colour</td><td>Object collection used to determine the colour based on either the ID or measurement value  of a parent object when "Colour mode" is set to either  "Parent ID" or "Parent measurement value".  These objects will be parents of the input objects.</td></tr><tr><td class="mia-table-text-bold">Partner objects for colour</td><td>Object collection used to determine the colour based on number of partners per object when "Colour mode" is set to "Partner count".  These objects will be partners of the input objects.</td></tr><tr><td class="mia-table-text-bold">Opacity (%)</td><td>Opacity of the overlay to be rendered.  This is a value between 0 (totally transparent) and 100 (totally opaque).</td></tr><tr><td class="mia-table-text-bold">Range minimum mode</td><td>Controls whether the minimum range for displayed colours is set automatically to the minimum available value (e.g. the smallest measurement being rendered), or whether it is defined manually by the "Minimum value" parameter.</td></tr><tr><td class="mia-table-text-bold">Minimum value</td><td>When "Range minimum mode" is set to "Manual", this is the minimum value that will be displayed as a unique colour.  All values smaller than this will be displayed with the same colour.</td></tr><tr><td class="mia-table-text-bold">Range maximum mode</td><td>Controls whether the maximum range for displayed colours is set automatically to the maximum available value (e.g. the largest measurement being rendered), or whether it is defined manually by the "Maximum value" parameter.</td></tr><tr><td class="mia-table-text-bold">Maximum value</td><td>When "Range maximum mode" is set to "Manual", this is the maximum value that will be displayed as a unique colour.  All values larger than this will be displayed with the same colour.</td></tr><tr><td class="mia-table-text-bold">Input image</td><td>Image onto which overlay will be rendered.  Input image will only be updated if "Apply to input image" is enabled, otherwise the image containing the overlay will be stored as a new image with name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Input objects</td><td>Objects to represent as overlays.</td></tr><tr><td class="mia-table-text-bold">Apply to input image</td><td>Determines if the modifications made to the input image (added overlay elements) will be applied to that image or directed to a new image.  When selected, the input image will be updated.</td></tr><tr><td class="mia-table-text-bold">Add output image to workspace</td><td>If the modifications (overlay) aren't being applied directly to the input image, this control will determine if a separate image containing the overlay should be saved to the workspace.</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>The name of the new image to be saved to the workspace (if not applying the changes directly to the input image).</td></tr><tr><td class="mia-table-text-bold">Label mode</td><td>Controls what information each label displays:<br><ul><li>"Child count" The number of children from a specific object collection for each object.  The children to summarise are selected using the "Child objects for label" parameter.</li><li>"ID" The ID number of the object.</li><li>"Measurement value" A measurement associated with the object.  The measurement is selected using the "Measurement for label" parameter.</li><li>"Parent ID" The ID number of a parent of the object.  The parent object is selected using the "Parent object for label" parameter.</li><li>"Parent measurement value" A measurement associated with a parent of the object.  The measurement is selected using the "Measurement for label" parameter and the parent object with the "Parent object for label" parameter.</li><li>"Partner count" The number of partners from a specific object collection for each object.  The partners to summarise are selected using the "Partner objects for label" parameter.</li></ul></td></tr><tr><td class="mia-table-text-bold">Decimal places</td><td>Number of decimal places to use when displaying numeric values.</td></tr><tr><td class="mia-table-text-bold">Use scientific notation</td><td>When enabled, numeric values will be displayed in the format <i>1.23E-3</i>.  Otherwise, the same value would appear as <i>0.00123</i>.</td></tr><tr><td class="mia-table-text-bold">Label size</td><td>Font size of the text label.</td></tr><tr><td class="mia-table-text-bold">X-offset</td><td>Offset the label by this number of pixels horizontally (along the x-axis).  Increasingly positive numbers move the label right.</td></tr><tr><td class="mia-table-text-bold">Y-offset</td><td>Offset the label by this number of pixels vertically (along the y-axis).  Increasingly positive numbers move the label down.</td></tr><tr><td class="mia-table-text-bold">Child objects for label</td><td>If "Label mode" is set to "Child count", these are the child objects which will be counted and displayed on the label.  These objects will be children of the input objects.</td></tr><tr><td class="mia-table-text-bold">Parent object for label</td><td>If "Label mode" is set to either "Parent ID" or "Parent measurement value", these are the parent objects which will be used.  These objects will be parents of the input objects.</td></tr><tr><td class="mia-table-text-bold">Partner objects for label</td><td>If "Label mode" is set to "Partner count", these are the partner objects which will be counted and displayed on the label.  These objects will be partners of the input objects.</td></tr><tr><td class="mia-table-text-bold">Measurement for label</td><td>If "Label mode" is set to either "Measurement value" or "Parent measurement value", these are the measurements which will be used.</td></tr><tr><td class="mia-table-text-bold">Prefix</td><td>Text to display at beginning of every label</td></tr><tr><td class="mia-table-text-bold">Suffix</td><td>Text to display at end of every label</td></tr><tr><td class="mia-table-text-bold">Label position</td><td>Determines the method used for placing the label overlay for each object:<br><ul><li>"Centre of object" Labels will be placed at the centroid (average coordinate location) of each object.  This position won't necessarily coincide with a region corresponding to that object.  For example, the centroid of a crescent shape won't lie on the crescent itself.</li><li>"Inside largest part of object" Labels will be placed coinciden with the largest region of each object.  This ensures the label is placed directly over the relevant object.</li></ul></td></tr><tr><td class="mia-table-text-bold">Render in all object slices</td><td>Display overlay elements in all slices corresponding to that object.</td></tr><tr><td class="mia-table-text-bold">Render in all frames</td><td>Display overlay elements in all frames, irrespective of whether each object is present in that frame.</td></tr><tr><td class="mia-table-text-bold">Enable multithreading</td><td>Process multiple overlay elements simultaneously.  This can provide a speed improvement when working on a computer with a multi-core CPU.</td></tr></p> -->
    <table class="table table-striped">
        <thead class="mia-main-text-small mia-bold">
            <tr>
                <td>Parameter</td>
                <td>Description</td>
            </tr>
        </thead>
        <tbody class="mia-main-text-small">
            <tr><td class="mia-table-text-bold">Colour mode</td><td>Method for assigning colour of each object:<br><ul><li>"Child count" Colour is determined by the number of children each object has.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the fewest children is shown in red and the object with the most, in cyan.  Objects without any children are always shown in red.  Child objects used for counting are selected with the "Child objects for colour" parameter.</li><li>"ID" Colour is quasi-randomly selected based on the ID number of the object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.</li><li>"Measurement value" Colour is determined by a measurement value.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects missing the relevant measurement  are always shown in red.  The measurement value is selected with the "Measurement for colour" parameter.</li><li>"Parent ID" Colour is quasi-randomly selected based on the ID number of a parent of this object.  The colour used for a specific ID number will always be the same and is calculated using the equation <i>hue = (ID * 1048576 % 255) / 255</i>.  The parent object is selected with the "Parent object for colour" parameter.</li><li>"Parent measurement value" Colour is determined by a measurement value of a parent of this object.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the smallest measurement is shown in red and the object with the largest, in cyan.  Objects either missing the relevant measurement or without the relevant parent are always shown in red.  The parent object is selected with the "Parent object for colour" parameter and the measurement value is selected with the "Measurement for colour" parameter.</li><li>"Partner count"  Colour is determined by the number of partners each object has.  Colour range runs across the first half of the visible spectrum (i.e. red to cyan) and is maximised, so the object with the fewest partners is shown in red and the object with the most, in cyan.  Objects without any partners are always shown in red.  Partner objects used for counting are selected with the "Partner objects for colour" parameter.</li><li>"Random colour" Colour is randomly selected for each object.  Unlike the "ID" option, the colours generated here will be different for each evaluation of the module.</li><li>"Single colour" (default option) Colour is fixed to one of a predetermined list of colours.  All objects  will be assigned the same overlay colour.  The colour is chosen using the "Single colour" parameter.</li></ul></td></tr><tr><td class="mia-table-text-bold">Colour map</td><td></td></tr><tr><td class="mia-table-text-bold">Single colour</td><td>Colour for all object overlays to be rendered using.  This parameter is used if "Colour mode" is set to "Single colour".  Choices are: White, Black, Red, Orange, Yellow, Green, Cyan, Blue, Violet, Magenta.</td></tr><tr><td class="mia-table-text-bold">Child objects for colour</td><td>Object collection used to determine the colour based on number of children per object when "Colour mode" is set to "Child count".  These objects will be children of the input objects.</td></tr><tr><td class="mia-table-text-bold">Measurement for colour</td><td>Measurement used to determine the colour when "Colour mode" is set to either "Measurement value" or "Parent measurement value".</td></tr><tr><td class="mia-table-text-bold">Parent object for colour</td><td>Object collection used to determine the colour based on either the ID or measurement value  of a parent object when "Colour mode" is set to either  "Parent ID" or "Parent measurement value".  These objects will be parents of the input objects.</td></tr><tr><td class="mia-table-text-bold">Partner objects for colour</td><td>Object collection used to determine the colour based on number of partners per object when "Colour mode" is set to "Partner count".  These objects will be partners of the input objects.</td></tr><tr><td class="mia-table-text-bold">Opacity (%)</td><td>Opacity of the overlay to be rendered.  This is a value between 0 (totally transparent) and 100 (totally opaque).</td></tr><tr><td class="mia-table-text-bold">Range minimum mode</td><td>Controls whether the minimum range for displayed colours is set automatically to the minimum available value (e.g. the smallest measurement being rendered), or whether it is defined manually by the "Minimum value" parameter.</td></tr><tr><td class="mia-table-text-bold">Minimum value</td><td>When "Range minimum mode" is set to "Manual", this is the minimum value that will be displayed as a unique colour.  All values smaller than this will be displayed with the same colour.</td></tr><tr><td class="mia-table-text-bold">Range maximum mode</td><td>Controls whether the maximum range for displayed colours is set automatically to the maximum available value (e.g. the largest measurement being rendered), or whether it is defined manually by the "Maximum value" parameter.</td></tr><tr><td class="mia-table-text-bold">Maximum value</td><td>When "Range maximum mode" is set to "Manual", this is the maximum value that will be displayed as a unique colour.  All values larger than this will be displayed with the same colour.</td></tr><tr><td class="mia-table-text-bold">Input image</td><td>Image onto which overlay will be rendered.  Input image will only be updated if "Apply to input image" is enabled, otherwise the image containing the overlay will be stored as a new image with name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Input objects</td><td>Objects to represent as overlays.</td></tr><tr><td class="mia-table-text-bold">Apply to input image</td><td>Determines if the modifications made to the input image (added overlay elements) will be applied to that image or directed to a new image.  When selected, the input image will be updated.</td></tr><tr><td class="mia-table-text-bold">Add output image to workspace</td><td>If the modifications (overlay) aren't being applied directly to the input image, this control will determine if a separate image containing the overlay should be saved to the workspace.</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>The name of the new image to be saved to the workspace (if not applying the changes directly to the input image).</td></tr><tr><td class="mia-table-text-bold">Label mode</td><td>Controls what information each label displays:<br><ul><li>"Child count" The number of children from a specific object collection for each object.  The children to summarise are selected using the "Child objects for label" parameter.</li><li>"ID" The ID number of the object.</li><li>"Measurement value" A measurement associated with the object.  The measurement is selected using the "Measurement for label" parameter.</li><li>"Parent ID" The ID number of a parent of the object.  The parent object is selected using the "Parent object for label" parameter.</li><li>"Parent measurement value" A measurement associated with a parent of the object.  The measurement is selected using the "Measurement for label" parameter and the parent object with the "Parent object for label" parameter.</li><li>"Partner count" The number of partners from a specific object collection for each object.  The partners to summarise are selected using the "Partner objects for label" parameter.</li></ul></td></tr><tr><td class="mia-table-text-bold">Decimal places</td><td>Number of decimal places to use when displaying numeric values.</td></tr><tr><td class="mia-table-text-bold">Use scientific notation</td><td>When enabled, numeric values will be displayed in the format <i>1.23E-3</i>.  Otherwise, the same value would appear as <i>0.00123</i>.</td></tr><tr><td class="mia-table-text-bold">Label size</td><td>Font size of the text label.</td></tr><tr><td class="mia-table-text-bold">X-offset</td><td>Offset the label by this number of pixels horizontally (along the x-axis).  Increasingly positive numbers move the label right.</td></tr><tr><td class="mia-table-text-bold">Y-offset</td><td>Offset the label by this number of pixels vertically (along the y-axis).  Increasingly positive numbers move the label down.</td></tr><tr><td class="mia-table-text-bold">Child objects for label</td><td>If "Label mode" is set to "Child count", these are the child objects which will be counted and displayed on the label.  These objects will be children of the input objects.</td></tr><tr><td class="mia-table-text-bold">Parent object for label</td><td>If "Label mode" is set to either "Parent ID" or "Parent measurement value", these are the parent objects which will be used.  These objects will be parents of the input objects.</td></tr><tr><td class="mia-table-text-bold">Partner objects for label</td><td>If "Label mode" is set to "Partner count", these are the partner objects which will be counted and displayed on the label.  These objects will be partners of the input objects.</td></tr><tr><td class="mia-table-text-bold">Measurement for label</td><td>If "Label mode" is set to either "Measurement value" or "Parent measurement value", these are the measurements which will be used.</td></tr><tr><td class="mia-table-text-bold">Prefix</td><td>Text to display at beginning of every label</td></tr><tr><td class="mia-table-text-bold">Suffix</td><td>Text to display at end of every label</td></tr><tr><td class="mia-table-text-bold">Label position</td><td>Determines the method used for placing the label overlay for each object:<br><ul><li>"Centre of object" Labels will be placed at the centroid (average coordinate location) of each object.  This position won't necessarily coincide with a region corresponding to that object.  For example, the centroid of a crescent shape won't lie on the crescent itself.</li><li>"Inside largest part of object" Labels will be placed coinciden with the largest region of each object.  This ensures the label is placed directly over the relevant object.</li></ul></td></tr><tr><td class="mia-table-text-bold">Render in all object slices</td><td>Display overlay elements in all slices corresponding to that object.</td></tr><tr><td class="mia-table-text-bold">Render in all frames</td><td>Display overlay elements in all frames, irrespective of whether each object is present in that frame.</td></tr><tr><td class="mia-table-text-bold">Enable multithreading</td><td>Process multiple overlay elements simultaneously.  This can provide a speed improvement when working on a computer with a multi-core CPU.</td></tr>
        </tbody>
    </table>
</div>

  <!-- Footer -->
  <footer>
    <div class="container-fluid padding mia-page">
      <div class="row text-light">
        <div class="col-6 mia-footer">
          <a href="http://www.bristol.ac.uk/wolfson-bioimaging/">
            <img class="mia-footer-logo" src="../../../../img/logos/wbif.png">
          </a>
        </div>
        <div class="col-6 mia-footer text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../../img/logos/GitHub-Mark-Light-64px.png"><img height="32"
              src="../../../../img/logos/GitHub_Logo_White.png" height="32px">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="../../../../js/script.js" type="text/javascript"></script>

</body>

</html>