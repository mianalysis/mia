---
layout: default
---

<head>
    <link rel="stylesheet" href="../../css/index.css">
</head>

<body>
<!-- Side navigation -->
<div class="sidenav">
    <a href="../../index.html" class="nav1">Introduction</a>
    <a href="../gettingstarted.html" class="nav1">Getting started</a>
    <a href="../modulelist.html" class="nav1">Modules</a>
    <a href="../macrolist.html" class="nav1">Macros</a>
    <!-- <a href="../extendingmia.html" class="nav1">Extending MIA</a> -->
</div>

<!-- Page content -->
<div class="main">
    <!--The following is replaced automatically by the generated module list-->
    <a href="../modulelist.html">Back to module list</a>
<h1>Relate many-to-many</h1>
<h2>Description</h2>
Relate objects of two classes based on spatial proximity or overlap.  With this module, each object from a collection can be linked to an unlimited number of other objects (see "Relate many-to-one" and "Relate one-to-one" modules for alternatives).  As such, the assigned relationships can form a network of relationships, with each object connected to multiple others.  Related objects are assigned partner relationships and can optionally also be related by a common cluster (parent) object.  Measurements associated with these relationship (e.g. a record of whether each object was linked) are stored as measurements of the relevant object.
<h2>Parameters</h2>
<ul><li><b>Object source mode</b> (default = "Different classes") Controls whether the objects from the same class should be related to each other, or whether objects from two different classes should be related.</li><br><li><b>Input objects 1</b> (default = "") First objection collection from the workspace to relate objects for.  If "Object source mode" is set to "Different classes", these objects will be related to the objects from the collection specified by "Input objects 2"; however, if set to "Same class", the objects from this collection will be related to each other.  Related objects will be given partner relationships.</li><br><li><b>Input objects 2</b> (default = "") Second object collection from the workspace to relate objects for.  This object collection will only be used if "Object source mode" is set to "Different classes", in which case these objects will be related to those from the collection specified by "Input objects 1".  Related objects will be given partner relationships.</li><br><li><b>Create cluster objects</b> (default = "true") When selected, new "cluster" objects will be created and added to the workspace.  These objects contain no spatial information, but act as links between all objects that were related.  All objects identified as relating to each other are stored as children of the same cluster object.</li><br><li><b>Output cluster objects</b> (default = "") If storing cluster objects (when "Create cluster objects" is selected), the output cluster objects will be added to the workspace with this name.</li><br><li><b>Spatial separation mode</b> (default = "Spatial overlap") Controls the type of calculation used when determining which objects are related:<br><ul><li>"Centroid separation" Distances are calculated from object centroid to object centroid.  These distances are always positive; increasing as the distance between centroids increases.</li><li>"Spatial overlap" The percentage of each object, which overlaps with another object is calculated.</li><li>"Surface separation" Distances are calculated between the closest points on the object surfaces.  These distances increase in magnitude the greater the minimum object-object surface distance is; however, they are assigned a negative value if the one of the closest surface points is inside the other object (this should only occur if one object is entirely enclosed by the other) or a positive value otherwise (i.e. if the objects are separate).  Note: Any instances where the object surfaces overlap will be recorded as "0px" distance.</li></ul></li><br><li><b>Maximum separation</b> (default = "1.0") If "Spatial separation mode" is set to "Centroid separation" or "Surface separation", this is the maximum separation two objects can have and still be related.</li><br><li><b>Calibrated units</b> (default = "false") When selected, spatial values are assumed to be specified in calibrated units (as defined by the "Input control" parameter "Spatial units").  Otherwise, pixel units are assumed.</li><br><li><b>Accept all fully enclosed objects</b> (default = "true") When selected and "Spatial separation mode" is set to "Surface separation", any instances of objects fully enclosed within another are accepted as being related.  Otherwise, the absolute distance between object surfaces will be used.</li><br><li><b>Minimum overlap of object 1 (%)</b> (default = "50.0") If "Spatial separation mode" is set to "Spatial overlap", this is the minimum percentage overlap the first object must have with the other object for the two objects to be related.</li><br><li><b>Minimum overlap of object 2 (%)</b> (default = "50.0") If "Spatial separation mode" is set to "Spatial overlap", this is the minimum percentage overlap the second object must have with the other object for the two objects to be related.</li><br><li><b>Add measurement</b> (default = "") Add additional measurement criteria the two objects must satisfy in order to be related.</li><br><li><b>Measurement 1</b> (default = "") Measurement associated with objects from the first collection that will be used for this test.</li><br><li><b>Measurement 2</b> (default = "") Measurement associated with objects from the second collection that will be used for this test.</li><br><li><b>Calculation</b> (default = "Difference") Controls the calculation used to compare the measurements values for the two objects being tested.  The two measurements can either be summed together or the difference between them taken.</li><br><li><b>Measurement limit</b> (default = "1.0") The combined measurement (summed or difference, based on "Calculation" parameter) must be smaller than this value for the two objects to be linked.</li><br><li><b>Only link objects in same frame</b> (default = "true") When selected, child and parent objects must be in the same time frame for them to be linked.</li><br></ul>

</div>
</body>